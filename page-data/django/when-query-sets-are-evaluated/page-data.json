{"componentChunkName":"component---src-templates-post-template-js","path":"/django/when-query-sets-are-evaluated","webpackCompilationHash":"e362362944f7eabf4ef4","result":{"data":{"markdownRemark":{"id":"61faf15c-f936-5ee9-b33c-ff3c25197dac","html":"<p>Let’s say you have this code in your django backend;</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">q <span class=\"token operator\">=</span> Entry<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>headline__startswith<span class=\"token operator\">=</span><span class=\"token string\">\"What\"</span><span class=\"token punctuation\">)</span>\nq <span class=\"token operator\">=</span> q<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>pub_date__lte<span class=\"token operator\">=</span>datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nq <span class=\"token operator\">=</span> q<span class=\"token punctuation\">.</span>exclude<span class=\"token punctuation\">(</span>body_text__icontains<span class=\"token operator\">=</span><span class=\"token string\">\"food\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>q<span class=\"token punctuation\">)</span></code></pre></div>\n<p>It looks like you are accessing your database three times by using the code above. However, according to the offcial document of Django, Django access the database only once, at the last line <code class=\"language-text\">print(q)</code> because <strong>the results of a queryset aren’t fetched from the database until you **ask</strong> for them**. Which means that you are asking for the data when you are trying to <code class=\"language-text\">print</code> it.</p>\n<p>There are some methods that you can use to have Django access the database. Some common ones are default python methods like <code class=\"language-text\">repr()</code>, <code class=\"language-text\">len()</code>, <code class=\"language-text\">list()</code>, and <code class=\"language-text\">bool()</code>.</p>\n<p>I am going to write about QuerySet APIs in a later post</p>","fields":{"slug":"/django/when-query-sets-are-evaluated","tagSlugs":["/tag/django/"]},"frontmatter":{"date":"2020-05-31T22:53:37.121Z","description":"Django does not access the database every single time you make a query","tags":["django"],"title":"Django - When Query Sets Are Evaluated"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/django/when-query-sets-are-evaluated"}}}